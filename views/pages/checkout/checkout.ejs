<%-include("../../partials/header.ejs")-%>


<div class="border-b">

  <div class="content py-12">
    <div>
      <h2 class="block text-2xl sm:text-3xl lg:text-4xl font-semibold">
        Checkout
      </h2>
      <div class="block mt-3 sm:mt-5 text-xs sm:text-sm font-medium text-slate-700 dark:text-slate-400">
        <a class="" href="/cart">Cart</a>
        <span class="text-xs mx-1 sm:mx-1.5">/</span>
        <span class="underline"> Checkout </span>
      </div>
    </div>
  </div>
</div>


<main class="w-[98%] lg:w-[60%] mx-auto py-16 lg:pb-28 lg:pt-20">


  <%if (!user) {%>
  <form action="/register" method="post" class="space-y-6 bg-gray-100 p-8 rounded shadow border">
    <div>
      <label for="name">Your Name</label>
      <div class="input-wrapper">
        <div class="input-icon">
          <i class="fa fa-user"> </i>
        </div>
        <input id="name" name="name" type="text" class="input py-4 pr-2" placeholder="Your Name" required>
      </div>
    </div>

    <div>
      <label for="email">Your Email</label>
      <div class="input-wrapper">
        <div class="input-icon">
          <i class="fa fa-phone"> </i>
        </div>
        <input id="email" name="email" type="email" class="input py-4 pr-2" placeholder="Email Address" required>
      </div>
    </div>


    <div>
      <label for="phone">Phone</label>
      <div class="input-wrapper">
        <div class="input-icon">
          <i class="fa fa-envelope"> </i>
        </div>
        <input id="phone" name="phone" type="text" class="input py-4 pr-2" placeholder="Phone Number">
      </div>
    </div>

    <div>
      <label for="password">Enter New Password</label>
      <div class="input-wrapper">
        <div class="input-icon">
          <i class="fa-solid fa-key"></i>
        </div>
        <input type="password" id="password" name="password" class="input py-4 pr-10" placeholder="New Password" data-target="password" required>
        <button type="button" data-target="password" data-ripple-dark="dark" class="toggle-password h-full cursor-pointer text-lg absolute right-2 inset-y-0 my-auto flex items-center">
          <i class="fa-regular fa-eye-slash"></i>
        </button>
      </div>
    </div>

    <div class="text-right">
      <a href="#" class="text-sm font-semibold text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 hover:underline">
        forgot password?</a>
    </div>
    <button data-ripple-dark="true" class="mt-btn w-full py-3 bg-orange-600 text-white" type="submit">Register</button>
    <p class="text-sm text-gray-700 dark:text-gray-400 mt-4"> Already have an account?
      <a href="./login" class="text-sm font-semibold text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-500">
        Login here</a>
    </p>
  </form>
  <% } %>
  <br>
  <br>

  <form action="/order" method="post" class="flex flex-col lg:flex-row gap-10 xl:gap-20">
    <%- include('./checkout.shipping.ejs') %>
    <%- include('./checkout.details.ejs') %>
    <input name="total_price" type="text" hidden class="cartSubTotalInput">
    <input name="total_purchase_price" type="text" hidden class="cartPurchaseSubTotalInput">
    <input name="cartProductIDs" hidden id="cartProductIDs" type="text">
    <input name="cartItemsIDs" hidden id="cartItemsIDs" type="text">
    <input name="quantitiesByProduct" hidden id="quantitiesByProduct" type="text">
  </form>

</main>

<%-include("../../partials/footer.ejs")-%>