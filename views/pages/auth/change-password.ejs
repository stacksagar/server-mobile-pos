<%-include("../../partials/header.ejs")-%>

<div class="bg-gradient-to-r border-t from-gray-50 to-cyan-50 min-h-screen">
  <div class="content">
    <div class="w-full py-12 flex lg:items-start justify-start lg:justify-between gap-12 xl:gap-16 flex-col lg:flex-row text-gray-800">
      <%- include('../../components/my-profile-sidebar.ejs', {active:
      "/change-password"}) %>

      <div class="bg-white shadow border w-full">
        <div class="p-5">
          <% if (user?.password) { %>

          <form action="/auth/change-password?id=<%=user?.id%>" method="post" class="space-y-6">
            <h3>Update Password</h3>

            <div class="input-wrapper">
              <div class="input-icon">
                <i class="fa-solid fa-key"></i>
              </div>
              <input type="password" name="old_password" class="input py-4 pr-10" placeholder="Old Password" data-target="old_password" required />
              <button type="button" data-target="old_password" data-ripple-dark="dark" class="toggle-password h-full cursor-pointer text-lg absolute right-2 inset-y-0 my-auto flex items-center">
                <i class="fa-regular fa-eye-slash"></i>
              </button>
            </div>

            <div class="input-wrapper">
              <div class="input-icon">
                <i class="fa-solid fa-key"></i>
              </div>
              <input type="password" name="new_password" class="input py-4 pr-10" placeholder="New Password" data-target="new_password" required />
              <button type="button" data-target="new_password" data-ripple-dark="dark" class="toggle-password h-full cursor-pointer text-lg absolute right-2 inset-y-0 my-auto flex items-center">
                <i class="fa-regular fa-eye-slash"></i>
              </button>
            </div>

            <button type="submit" data-ripple-light="true" class="btn btn-blue">
              Update Password
            </button>
          </form>
          <% } else { %>
          <form action="/auth/create-password?id=<%=user?.id%>" method="post" class="space-y-6">
            <h3>Create Password</h3>

            <div class="input-wrapper">
              <div class="input-icon">
                <i class="fa-solid fa-key"></i>
              </div>
              <input type="password" name="password" class="input py-4 pr-10" placeholder="Create New Password" data-target="create_password" required />
              <button type="button" data-target="create_password" data-ripple-dark="dark" class="toggle-password h-full cursor-pointer text-lg absolute right-2 inset-y-0 my-auto flex items-center">
                <i class="fa-regular fa-eye-slash"></i>
              </button>
            </div>

            <button type="submit" data-ripple-light="true" class="btn btn-blue">
              Update Password
            </button>
          </form>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>

<%-include("../../partials/footer.ejs")-%>